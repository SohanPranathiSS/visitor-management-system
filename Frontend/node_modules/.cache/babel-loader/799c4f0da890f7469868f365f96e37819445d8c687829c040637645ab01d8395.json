{"ast":null,"code":"import React,{useEffect,useState,useCallback}from'react';import{Link}from'react-router-dom';import{getUsers,getVisits,createUser}from'../utils/apiService';import'../styles/AdminDashboardPage.css';import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';// Register Chart.js components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);const AdminDashboardPage=()=>{const[users,setUsers]=useState([]);const[visits,setVisits]=useState([]);const[filters,setFilters]=useState({startDate:'',endDate:'',hostName:'',visitorName:''});const[newUser,setNewUser]=useState({name:'',email:'',password:''});const[error,setError]=useState('');const[loading,setLoading]=useState(true);const[activeSection,setActiveSection]=useState('dashboard');const[userRole,setUserRole]=useState(null);const[companyInfo,setCompanyInfo]=useState(null);// Get the user role and company info from localStorage when the component mounts\nuseEffect(()=>{try{const loggedInUser=JSON.parse(localStorage.getItem('user'));if(loggedInUser&&loggedInUser.role){setUserRole(loggedInUser.role);// Store company info if available\nif(loggedInUser.company_name){setCompanyInfo({name:loggedInUser.company_name,adminName:loggedInUser.name});}}else{setError('Could not determine user role. Please log in again.');}}catch(e){setError('Could not retrieve user data. Please log in again.');console.error('Error parsing user data:',e);}const fetchAllUsers=async()=>{try{const usersData=await getUsers();setUsers(usersData);}catch(err){setError('Failed to load users. Please try again later.');console.error(err);}};fetchAllUsers();},[]);const fetchVisits=useCallback(async()=>{// Don't try to fetch if the role hasn't been determined yet\nif(!userRole)return;setLoading(true);setError('');try{const activeFilters=Object.fromEntries(Object.entries(filters).filter(_ref=>{let[_,v]=_ref;return v;}));// Pass the userRole as the first argument to getVisits\nconst visitsData=await getVisits(userRole,activeFilters);// Remove any potential duplicates based on visit ID\nconst uniqueVisits=visitsData.filter((visit,index,self)=>index===self.findIndex(v=>v.id===visit.id));setVisits(uniqueVisits);}catch(err){setError('Failed to load visit logs.');console.error(err);}finally{setLoading(false);}},[filters,userRole]);useEffect(()=>{fetchVisits();},[fetchVisits]);const handleFilterChange=e=>{setFilters(prev=>({...prev,[e.target.name]:e.target.value}));};const handleUserInputChange=e=>{setNewUser(prev=>({...prev,[e.target.name]:e.target.value}));};const handleCreateUser=async e=>{e.preventDefault();try{await createUser(newUser);setNewUser({name:'',email:'',password:''});setError('');const usersData=await getUsers();setUsers(usersData);setActiveSection('users');}catch(err){setError(err.message||'Failed to create user. Please try again.');console.error(err);}};const handleFilterSubmit=e=>{e.preventDefault();// The fetchVisits function is already called whenever filters change.\n};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';// No need to reload, the router will handle the redirect.\n};// Chart logic and other component JSX remains the same...\n// Calculate 30-day visitor stats\nconst last30DaysVisits=visits.filter(visit=>{const visitDate=new Date(visit.check_in_time);const thirtyDaysAgo=new Date();thirtyDaysAgo.setDate(thirtyDaysAgo.getDate()-30);return visitDate>=thirtyDaysAgo;});// Prepare data for 30-day visitor chart\nconst getChartData=()=>{const today=new Date();const labels=[];const data=[];for(let i=29;i>=0;i--){const date=new Date();date.setDate(today.getDate()-i);const dateString=date.toISOString().split('T')[0];labels.push(dateString);const count=last30DaysVisits.filter(visit=>new Date(visit.check_in_time).toISOString().split('T')[0]===dateString).length;data.push(count);}return{labels,datasets:[{label:'Visitors per Day',data,backgroundColor:'#0984e3',borderColor:'#0984e3',borderWidth:1}]};};const chartData=getChartData();const chartOptions={scales:{y:{beginAtZero:true,title:{display:true,text:'Number of Visitors'}},x:{title:{display:true,text:'Date'}}},plugins:{legend:{display:true}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard-bg\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-logo\",children:\"Visitor Management\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-links\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/products\",children:\"Products\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/resources\",children:\"Resources\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/aboutus\",children:\"About Us\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/bookademo\",children:\"Book a Demo\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/contactus\",children:\"Contact Us\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"login-btn\",children:\"Logout\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard-wrapper\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"admin-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"sidebar-title\",children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"sidebar-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeSection==='dashboard'?'active':'',onClick:()=>setActiveSection('dashboard'),children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeSection==='users'?'active':'',onClick:()=>setActiveSection('users'),children:\"Create Users\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeSection==='visitors'?'active':'',onClick:()=>setActiveSection('visitors'),children:\"Show Visitors\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"admin-dashboard-title\",children:\"Admin Dashboard\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"admin-dashboard-error\",children:error}),activeSection==='dashboard'&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-stats\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Last 30 Days Visitors\"}),/*#__PURE__*/_jsx(\"p\",{children:last30DaysVisits.length})]})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Visitors Over Last 30 Days\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'600px',margin:'20px 0'},children:/*#__PURE__*/_jsx(Bar,{data:chartData,options:chartOptions})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Recent Visitors\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading visits...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"admin-dashboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Visitor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Host Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check-In Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:last30DaysVisits.slice(0,5).map(visit=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:visit.visitorName}),/*#__PURE__*/_jsx(\"td\",{children:visit.hostName}),/*#__PURE__*/_jsx(\"td\",{children:new Date(visit.check_in_time).toLocaleString()})]},visit.id))})]})]}),activeSection==='users'&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create Users for Your Company\"}),companyInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"company-info-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Company: \",companyInfo.name||'Loading...']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Administrator: \",companyInfo.adminName||'Loading...']}),/*#__PURE__*/_jsx(\"p\",{className:\"info-text\",children:\"Users created here will be assigned to your company and can act as hosts for visitor check-ins.\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"em\",{children:\"Note: All created users are assigned the 'host' role.\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"admin-dashboard-form\",onSubmit:handleCreateUser,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Full Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:newUser.name,onChange:handleUserInputChange,placeholder:\"Enter full name (e.g., John Doe)\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:newUser.email,onChange:handleUserInputChange,placeholder:\"Enter email address\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:newUser.password,onChange:handleUserInputChange,placeholder:\"Enter password (min 8 characters)\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Host\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Company Users\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading users...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"admin-dashboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",children:\"No users found in your company.\"})}):users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsx(\"td\",{children:user.company_name||'N/A'})]},user.id))})]})]}),activeSection==='visitors'&&/*#__PURE__*/_jsxs(\"section\",{className:\"admin-dashboard-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Company Visitor Logs\"}),companyInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"company-info-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Viewing visitors for: \",companyInfo.name||'Loading...']}),/*#__PURE__*/_jsx(\"p\",{className:\"info-text\",children:\"This shows visitors who checked in with hosts from your company and any parent company relationships.\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"admin-dashboard-filter-form\",onSubmit:handleFilterSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Start Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:filters.startDate,onChange:handleFilterChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"End Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:filters.endDate,onChange:handleFilterChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Host Name:\",/*#__PURE__*/_jsx(\"input\",{name:\"hostName\",value:filters.hostName,onChange:handleFilterChange,placeholder:\"Filter by host name\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Visitor Name:\",/*#__PURE__*/_jsx(\"input\",{name:\"visitorName\",value:filters.visitorName,onChange:handleFilterChange,placeholder:\"Filter by visitor name\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Filter\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading visits...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"admin-dashboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Visitor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Visitor Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Visitor Company\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Host Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Host Company\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check-In Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check-Out Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:visits.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",children:\"No visits found for your company with the selected filters.\"})}):visits.map(visit=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:visit.visitorName}),/*#__PURE__*/_jsx(\"td\",{children:visit.visitorEmail}),/*#__PURE__*/_jsx(\"td\",{children:visit.company||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:visit.visitorPhoto&&/*#__PURE__*/_jsx(\"img\",{src:visit.visitorPhoto,alt:\"Visitor\",style:{maxWidth:'80px',borderRadius:'4px'}})}),/*#__PURE__*/_jsx(\"td\",{children:visit.hostName}),/*#__PURE__*/_jsx(\"td\",{children:visit.hostCompany||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:visit.reason}),/*#__PURE__*/_jsx(\"td\",{children:new Date(visit.check_in_time).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:visit.check_out_time?new Date(visit.check_out_time).toLocaleString():'Not Checked Out'})]},visit.id))})]})]})]})]})]});};export default AdminDashboardPage;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Link","getUsers","getVisits","createUser","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","AdminDashboardPage","users","setUsers","visits","setVisits","filters","setFilters","startDate","endDate","hostName","visitorName","newUser","setNewUser","name","email","password","error","setError","loading","setLoading","activeSection","setActiveSection","userRole","setUserRole","companyInfo","setCompanyInfo","loggedInUser","JSON","parse","localStorage","getItem","role","company_name","adminName","e","console","fetchAllUsers","usersData","err","fetchVisits","activeFilters","Object","fromEntries","entries","filter","_ref","_","v","visitsData","uniqueVisits","visit","index","self","findIndex","id","handleFilterChange","prev","target","value","handleUserInputChange","handleCreateUser","preventDefault","message","handleFilterSubmit","handleLogout","removeItem","window","location","href","last30DaysVisits","visitDate","Date","check_in_time","thirtyDaysAgo","setDate","getDate","getChartData","today","labels","data","i","date","dateString","toISOString","split","push","count","length","datasets","label","backgroundColor","borderColor","borderWidth","chartData","chartOptions","scales","y","beginAtZero","title","display","text","x","plugins","legend","className","children","to","onClick","style","maxWidth","margin","options","slice","map","toLocaleString","onSubmit","type","onChange","placeholder","required","colSpan","user","visitorEmail","company","visitorPhoto","src","alt","borderRadius","hostCompany","reason","check_out_time"],"sources":["C:/Users/sohan/Desktop/Actually Working/Visitor_management V2/Frontend/src/pages/AdminDashboardPage.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getUsers, getVisits, createUser } from '../utils/apiService';\r\nimport '../styles/AdminDashboardPage.css';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\r\n\r\n// Register Chart.js components\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nconst AdminDashboardPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [visits, setVisits] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    hostName: '',\r\n    visitorName: ''\r\n  });\r\n  const [newUser, setNewUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeSection, setActiveSection] = useState('dashboard');\r\n  const [userRole, setUserRole] = useState(null);\r\n  const [companyInfo, setCompanyInfo] = useState(null);\r\n\r\n  // Get the user role and company info from localStorage when the component mounts\r\n  useEffect(() => {\r\n    try {\r\n      const loggedInUser = JSON.parse(localStorage.getItem('user'));\r\n      if (loggedInUser && loggedInUser.role) {\r\n        setUserRole(loggedInUser.role);\r\n        // Store company info if available\r\n        if (loggedInUser.company_name) {\r\n          setCompanyInfo({\r\n            name: loggedInUser.company_name,\r\n            adminName: loggedInUser.name\r\n          });\r\n        }\r\n      } else {\r\n        setError('Could not determine user role. Please log in again.');\r\n      }\r\n    } catch (e) {\r\n      setError('Could not retrieve user data. Please log in again.');\r\n      console.error('Error parsing user data:', e);\r\n    }\r\n\r\n    const fetchAllUsers = async () => {\r\n      try {\r\n        const usersData = await getUsers();\r\n        setUsers(usersData);\r\n      } catch (err) {\r\n        setError('Failed to load users. Please try again later.');\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchAllUsers();\r\n  }, []);\r\n\r\n  const fetchVisits = useCallback(async () => {\r\n    // Don't try to fetch if the role hasn't been determined yet\r\n    if (!userRole) return;\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const activeFilters = Object.fromEntries(\r\n        Object.entries(filters).filter(([_, v]) => v)\r\n      );\r\n      // Pass the userRole as the first argument to getVisits\r\n      const visitsData = await getVisits(userRole, activeFilters);\r\n      \r\n      // Remove any potential duplicates based on visit ID\r\n      const uniqueVisits = visitsData.filter((visit, index, self) => \r\n        index === self.findIndex(v => v.id === visit.id)\r\n      );\r\n      \r\n      setVisits(uniqueVisits);\r\n    } catch (err) {\r\n      setError('Failed to load visit logs.');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, userRole]);\r\n\r\n  useEffect(() => {\r\n    fetchVisits();\r\n  }, [fetchVisits]);\r\n\r\n  const handleFilterChange = (e) => {\r\n    setFilters(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleUserInputChange = (e) => {\r\n    setNewUser(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleCreateUser = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await createUser(newUser);\r\n      setNewUser({ name: '', email: '', password: '' });\r\n      setError('');\r\n      const usersData = await getUsers();\r\n      setUsers(usersData);\r\n      setActiveSection('users');\r\n    } catch (err) {\r\n      setError(err.message || 'Failed to create user. Please try again.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleFilterSubmit = (e) => {\r\n    e.preventDefault();\r\n    // The fetchVisits function is already called whenever filters change.\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/login';\r\n    // No need to reload, the router will handle the redirect.\r\n  };\r\n\r\n  // Chart logic and other component JSX remains the same...\r\n  // Calculate 30-day visitor stats\r\n  const last30DaysVisits = visits.filter(visit => {\r\n    const visitDate = new Date(visit.check_in_time);\r\n    const thirtyDaysAgo = new Date();\r\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n    return visitDate >= thirtyDaysAgo;\r\n  });\r\n\r\n  // Prepare data for 30-day visitor chart\r\n  const getChartData = () => {\r\n    const today = new Date();\r\n    const labels = [];\r\n    const data = [];\r\n    for (let i = 29; i >= 0; i--) {\r\n      const date = new Date();\r\n      date.setDate(today.getDate() - i);\r\n      const dateString = date.toISOString().split('T')[0];\r\n      labels.push(dateString);\r\n      const count = last30DaysVisits.filter(visit => \r\n        new Date(visit.check_in_time).toISOString().split('T')[0] === dateString\r\n      ).length;\r\n      data.push(count);\r\n    }\r\n    return {\r\n      labels,\r\n      datasets: [\r\n        {\r\n          label: 'Visitors per Day',\r\n          data,\r\n          backgroundColor: '#0984e3',\r\n          borderColor: '#0984e3',\r\n          borderWidth: 1\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const chartData = getChartData();\r\n\r\n  const chartOptions = {\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n        title: {\r\n          display: true,\r\n          text: 'Number of Visitors'\r\n        }\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: 'Date'\r\n        }\r\n      }\r\n    },\r\n    plugins: {\r\n      legend: {\r\n        display: true\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-dashboard-bg\">\r\n      <nav className=\"navbar\">\r\n        <div className=\"navbar-logo\">Visitor Management</div>\r\n        <ul className=\"navbar-links\">\r\n          <li><Link to=\"/\">Home</Link></li>\r\n          <li><Link to=\"/products\">Products</Link></li>\r\n          <li><Link to=\"/resources\">Resources</Link></li>\r\n          <li><Link to=\"/aboutus\">About Us</Link></li>\r\n          <li><Link to=\"/bookademo\">Book a Demo</Link></li>\r\n          <li><Link to=\"/contactus\">Contact Us</Link></li>\r\n          <li><button onClick={handleLogout} className=\"login-btn\">Logout</button></li>\r\n        </ul>\r\n      </nav>\r\n      <div className=\"admin-dashboard-wrapper\">\r\n        <aside className=\"admin-sidebar\">\r\n          <h3 className=\"sidebar-title\">Admin Panel</h3>\r\n          <ul className=\"sidebar-menu\">\r\n            <li>\r\n              <button \r\n                className={activeSection === 'dashboard' ? 'active' : ''} \r\n                onClick={() => setActiveSection('dashboard')}\r\n              >\r\n                Dashboard\r\n              </button>\r\n            </li>\r\n            <li>\r\n              <button \r\n                className={activeSection === 'users' ? 'active' : ''} \r\n                onClick={() => setActiveSection('users')}\r\n              >\r\n                Create Users\r\n              </button>\r\n            </li>\r\n            <li>\r\n              <button \r\n                className={activeSection === 'visitors' ? 'active' : ''} \r\n                onClick={() => setActiveSection('visitors')}\r\n              >\r\n                Show Visitors\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </aside>\r\n        <div className=\"admin-dashboard-container\">\r\n          <h2 className=\"admin-dashboard-title\">Admin Dashboard</h2>\r\n          {error && <p className=\"admin-dashboard-error\">{error}</p>}\r\n\r\n          {activeSection === 'dashboard' && (\r\n            <section>\r\n              <h3>Dashboard</h3>\r\n              <div className=\"dashboard-stats\">\r\n                <div className=\"stat-card\">\r\n                  <h4>Last 30 Days Visitors</h4>\r\n                  <p>{last30DaysVisits.length}</p>\r\n                </div>\r\n              </div>\r\n              <h4>Visitors Over Last 30 Days</h4>\r\n              <div style={{ maxWidth: '600px', margin: '20px 0' }}>\r\n                <Bar data={chartData} options={chartOptions} />\r\n              </div>\r\n              <h4>Recent Visitors</h4>\r\n              {loading ? <p>Loading visits...</p> : (\r\n                <table className=\"admin-dashboard-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Visitor Name</th>\r\n                      <th>Host Name</th>\r\n                      <th>Check-In Time</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {last30DaysVisits.slice(0, 5).map(visit => (\r\n                      <tr key={visit.id}>\r\n                        <td>{visit.visitorName}</td>\r\n                        <td>{visit.hostName}</td>\r\n                        <td>{new Date(visit.check_in_time).toLocaleString()}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </section>\r\n          )}\r\n\r\n          {activeSection === 'users' && (\r\n            <section>\r\n              <h3>Create Users for Your Company</h3>\r\n              {companyInfo && (\r\n                <div className=\"company-info-card\">\r\n                  <h4>Company: {companyInfo.name || 'Loading...'}</h4>\r\n                  <p>Administrator: {companyInfo.adminName || 'Loading...'}</p>\r\n                  <p className=\"info-text\">Users created here will be assigned to your company and can act as hosts for visitor check-ins.</p>\r\n                </div>\r\n              )}\r\n              <p><em>Note: All created users are assigned the 'host' role.</em></p>\r\n              <form className=\"admin-dashboard-form\" onSubmit={handleCreateUser}>\r\n                <label>\r\n                  Full Name:\r\n                  <input \r\n                    type=\"text\" \r\n                    name=\"name\" \r\n                    value={newUser.name} \r\n                    onChange={handleUserInputChange} \r\n                    placeholder=\"Enter full name (e.g., John Doe)\"\r\n                    required \r\n                  />\r\n                </label>\r\n                <label>\r\n                  Email:\r\n                  <input \r\n                    type=\"email\" \r\n                    name=\"email\" \r\n                    value={newUser.email} \r\n                    onChange={handleUserInputChange} \r\n                    placeholder=\"Enter email address\"\r\n                    required \r\n                  />\r\n                </label>\r\n                <label>\r\n                  Password:\r\n                  <input \r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    value={newUser.password} \r\n                    onChange={handleUserInputChange} \r\n                    placeholder=\"Enter password (min 8 characters)\"\r\n                    required \r\n                  />\r\n                </label>\r\n                <button type=\"submit\">Create Host</button>\r\n              </form>\r\n              <h3>Company Users</h3>\r\n              {loading ? <p>Loading users...</p> : (\r\n                <table className=\"admin-dashboard-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Name</th>\r\n                      <th>Email</th>\r\n                      <th>Role</th>\r\n                      <th>Company</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {users.length === 0 ? (\r\n                      <tr><td colSpan=\"4\">No users found in your company.</td></tr>\r\n                    ) : (\r\n                      users.map(user => (\r\n                        <tr key={user.id}>\r\n                          <td>{user.name}</td>\r\n                          <td>{user.email}</td>\r\n                          <td>{user.role}</td>\r\n                          <td>{user.company_name || 'N/A'}</td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </section>\r\n          )}\r\n\r\n          {activeSection === 'visitors' && (\r\n            <section className=\"admin-dashboard-section\">\r\n              <h3>Company Visitor Logs</h3>\r\n              {companyInfo && (\r\n                <div className=\"company-info-card\">\r\n                  <h4>Viewing visitors for: {companyInfo.name || 'Loading...'}</h4>\r\n                  <p className=\"info-text\">This shows visitors who checked in with hosts from your company and any parent company relationships.</p>\r\n                </div>\r\n              )}\r\n              <form className=\"admin-dashboard-filter-form\" onSubmit={handleFilterSubmit}>\r\n                <label>\r\n                  Start Date:\r\n                  <input type=\"date\" name=\"startDate\" value={filters.startDate} onChange={handleFilterChange} />\r\n                </label>\r\n                <label>\r\n                  End Date:\r\n                  <input type=\"date\" name=\"endDate\" value={filters.endDate} onChange={handleFilterChange} />\r\n                </label>\r\n                <label>\r\n                  Host Name:\r\n                  <input name=\"hostName\" value={filters.hostName} onChange={handleFilterChange} placeholder=\"Filter by host name\" />\r\n                </label>\r\n                <label>\r\n                  Visitor Name:\r\n                  <input name=\"visitorName\" value={filters.visitorName} onChange={handleFilterChange} placeholder=\"Filter by visitor name\" />\r\n                </label>\r\n                <button type=\"submit\">Filter</button>\r\n              </form>\r\n              {loading ? <p>Loading visits...</p> : (\r\n                <table className=\"admin-dashboard-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Visitor Name</th>\r\n                      <th>Visitor Email</th>\r\n                      <th>Visitor Company</th>\r\n                      <th>Photo</th>\r\n                      <th>Host Name</th>\r\n                      <th>Host Company</th>\r\n                      <th>Reason</th>\r\n                      <th>Check-In Time</th>\r\n                      <th>Check-Out Time</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {visits.length === 0 ? (\r\n                      <tr><td colSpan=\"9\">No visits found for your company with the selected filters.</td></tr>\r\n                    ) : (\r\n                      visits.map(visit => (\r\n                        <tr key={visit.id}>\r\n                          <td>{visit.visitorName}</td>\r\n                          <td>{visit.visitorEmail}</td>\r\n                          <td>{visit.company || 'N/A'}</td>\r\n                          <td>\r\n                            {visit.visitorPhoto && <img src={visit.visitorPhoto} alt=\"Visitor\" style={{ maxWidth: '80px', borderRadius: '4px' }} />}\r\n                          </td>\r\n                          <td>{visit.hostName}</td>\r\n                          <td>{visit.hostCompany || 'N/A'}</td>\r\n                          <td>{visit.reason}</td>\r\n                          <td>{new Date(visit.check_in_time).toLocaleString()}</td>\r\n                          <td>{visit.check_out_time ? new Date(visit.check_out_time).toLocaleString() : 'Not Checked Out'}</td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </section>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboardPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}